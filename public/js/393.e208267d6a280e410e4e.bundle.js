"use strict";(self.webpackChunkcodersouth=self.webpackChunkcodersouth||[]).push([[393],{2393:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var a,n,l=r(9526),o=r(6481),s=r(2166),u=r(9949),i=r(5547),c=r(9487),m=r(2480),p=r(8539),d=r(9291),f=r(5615),b=r(1391),g=r(8570),v=r(9083);(n=a||(a={})).key="questions",n.path="questions/";const y=e=>Object.entries(e.val()).map((([e,t])=>({user:t.user,question:t.question,date:t.date,id:e}))).sort(((e,t)=>e.date>t.date?1:-1)),E=()=>{const{data:e,refetch:t}=(0,f.useQuery)(a.key,(async()=>{const e=await(0,b.U2)((0,b.iH)(v.db,a.path));return y(e)}));return(0,l.useEffect)((()=>{var e;e=()=>t(),(0,b.jM)((0,b.iH)(v.db,a.path),(t=>t.val()?e(y(t)):[]))}),[t]),{questions:null!=e?e:[],makeQuestion:e=>(e=>(0,b.t8)((0,b.iH)(v.db,`${a.path}${(0,g.Z)()}`),e))(e)}};var h=r(9804),O=r(604),w=Object.defineProperty,j=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,q=(e,t,r)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const P=e=>{var t=e,{variant:r}=t,a=((e,t)=>{var r={};for(var a in e)k.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&j)for(var a of j(e))t.indexOf(a)<0&&x.call(e,a)&&(r[a]=e[a]);return r})(t,["variant"]);const n=(0,O.useStyleConfig)("Card",{variant:r});return l.createElement(p.xu,((e,t)=>{for(var r in t||(t={}))k.call(t,r)&&q(e,r,t[r]);if(j)for(var r of j(t))x.call(t,r)&&q(e,r,t[r]);return e})({__css:n},a))};var C=Object.defineProperty,S=Object.defineProperties,z=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const U=()=>{const{user:e}=(0,h.a)(),[t,r]=(0,l.useState)(),{questions:a}=E(),n=(0,l.useMemo)((()=>t?a.filter((e=>e.user===t)):a),[t,a]),{handleSubmit:f,register:b}=(0,d.cI)(),{makeQuestion:g}=E(),v=(0,l.useCallback)((async({question:t})=>{await g({question:t,user:null==e?void 0:e.email,date:Date.now()})}),[g,e]);return l.createElement(o.gC,{alignItems:"flex-start",justifyContent:"stretch",spacing:8,width:"full"},l.createElement(s.X,null,"Preguntas"),l.createElement(u.x,null,"Hacer una pregunta:"),l.createElement(P,null,l.createElement("form",{onSubmit:f(v),style:{width:"100%"}},l.createElement(i.g,(y=((e,t)=>{for(var r in t||(t={}))H.call(t,r)&&Q(e,r,t[r]);if(I)for(var r of I(t))M.call(t,r)&&Q(e,r,t[r]);return e})({},b("question")),S(y,z({marginBottom:6,placeholder:"Pregunta",resize:"none",w:"full"})))),l.createElement(c.z,{type:"submit"},"Preguntar"))),l.createElement(u.x,null,t?"Mostrando solo mis preguntas":"Mostrando todas las preguntas"),l.createElement(o.Ug,null,l.createElement(c.z,{onClick:()=>r(void 0)},"Ver todas las preguntas"),l.createElement(c.z,{onClick:()=>r(null==e?void 0:e.email),variant:"ghost"},"Ver mis preguntas")),0===n.length&&t&&l.createElement(u.x,{color:"red.400",fontWeight:"extrabold"},"Todavia no preguntaste nada"),n.map((({user:e,id:t,question:r})=>l.createElement(P,{key:t},l.createElement(o.Ug,{alignItems:"flex-start"},l.createElement(m.qE,{name:null!=e?e:void 0}),l.createElement(p.xu,{ml:"3"},l.createElement(u.x,{fontWeight:"bold"},e),l.createElement(u.x,{fontSize:"sm"},r)))))));var y}}}]);
//# sourceMappingURL=393.e208267d6a280e410e4e.bundle.js.map